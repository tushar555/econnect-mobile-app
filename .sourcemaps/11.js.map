{"version":3,"sources":["../../src/pages/header/header.module.ts","../../src/pages/leave-travel-allowance/leave-travel-allowance.module.ts","../../src/pages/header/header.ts","../../src/pages/leave-travel-allowance/leave-travel-allowance.ts"],"names":[],"mappings":"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","file":"11.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { HeaderPage } from './header';\n\n@NgModule({\n  declarations: [\n    HeaderPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(HeaderPage),\n  ],\n  exports: [\n    HeaderPage\n  ]\n})\nexport class HeaderPageModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/header/header.module.ts","import { HeaderPageModule } from './../header/header.module';\nimport { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { LeaveTravelAllowancePage } from './leave-travel-allowance';\n\n@NgModule({\n  declarations: [\n    LeaveTravelAllowancePage,\n  ],\n  imports: [\n    IonicPageModule.forChild(LeaveTravelAllowancePage),\n    HeaderPageModule\n  ],\n})\nexport class LeaveTravelAllowancePageModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/leave-travel-allowance/leave-travel-allowance.module.ts","import { HomePage } from \"./../home/home\";\nimport { Component, Input, Output, EventEmitter } from \"@angular/core\";\nimport { IonicPage, NavController, NavParams } from \"ionic-angular\";\n\n/**\n * Generated class for the HeaderPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: \"page-header\",\n  templateUrl: \"header.html\"\n})\nexport class HeaderPage {\n  @Input() headerInfo: {};\n  @Output() passData: EventEmitter<any> = new EventEmitter();\n\n  public homePage = HomePage;\n  public profilePage = \"ProfilePage\";\n  constructor(public navCtrl: NavController, public navParams: NavParams) {\n    console.log(this.headerInfo);\n  }\n\n  ionViewDidLoad() {\n    console.log(\"ionViewDidLoad HeaderPage\");\n  }\n\n  showHome() {\n    this.navCtrl.setRoot(HomePage);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/header/header.ts","import { LtaProvider } from \"./../../providers/lta/lta\";\nimport { Component, NgZone } from \"@angular/core\";\nimport { IonicPage, NavController, NavParams } from \"ionic-angular\";\nimport { PostService } from \"../../providers/api/PostService\";\nimport { Storage } from \"@ionic/storage\";\n\n/**\n * Generated class for the LeaveTravelAllowancePage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n// @Pipe({ name: 'inrFormat' })\n// export class NewPipe implements PipeTransform {\n//   transform(value: any) {\n//     if (!value) return 0;\n//     else return value.toLocaleString(\"hi-IN\");\n//   }\n// }\n@IonicPage()\n@Component({\n  selector: \"page-leave-travel-allowance\",\n  templateUrl: \"leave-travel-allowance.html\"\n})\nexport class LeaveTravelAllowancePage {\n  companyName: any;\n  totalDeductions: any;\n  totalEarnings: any;\n  total: number;\n\n  financialYear: Date = new Date();\n  ltaRecords: any = [];\n  userInfo: any = [];\n  headerDate: {};\n  initOfUserInfo: boolean = false;\n  date: any;\n  monthsArray: any = [];\n  yearsArray = [];\n  year: any;\n  month: any;\n  name: any;\n  location: any;\n  userToken: any;\n  designation: any;\n  paymentData: any = [];\n  counter = [];\n  getUserDetails: {};\n  totalTax: number = 0;\n\n  constructor(\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    private _ltaProvider: LtaProvider,\n    private _ngZone: NgZone,\n    public postService: PostService,\n    public storage: Storage\n  ) {\n    this.headerDate = { title: \"LTA SUMMERY\" };\n    this.postService.getUserDetails().then(userToken => {\n      this.getUserDetails = userToken;\n      this.companyName = userToken[\"companyName\"];\n      console.dir(userToken);\n      // alert(\"compan:\"+this.companyName);\n    });\n  }\n\n  ionViewDidLoad() {\n    this.postService\n      .getCurrentTime()\n      .then((newdate: any) => {\n        this.date = new Date(newdate);\n        this.year = this.date.getFullYear();\n        this.month = this.date.getMonth();\n\n        this.name = this.postService.userName;\n        this.location = this.postService.userLocation;\n        this.userToken = this.postService.tokenid;\n        this.userToken\n          ? (this.designation = this.getUserDetails[\"JobTitle\"])\n          : \"\";\n\n        for (let i = 0; i <= 2; i++) {\n          console.log(this.date.getFullYear() - i);\n          this.yearsArray.push(this.date.getFullYear() - i);\n        }\n\n        this.initializeArray();\n        this.getLtaInfo();\n      })\n      .catch(error => {\n        this.navCtrl.pop();\n        this.postService.presentToast(error);\n      });\n  }\n\n  initializeArray() {\n    this.paymentData = [];\n  }\n\n  getLtaInfo() {\n    this.initializeArray();\n    this.total = 0;\n    this.postService.presentLoadingDefault();\n    this._ngZone.run(() => {\n      this.postService.getUserDetails().then((user: any) => {\n        const details = { tokenId: user.tokenid, year: this.year };\n        this.postService\n          .getData(\"SalaryCard/getLTASummary\", details)\n          .then((data: any) => {\n            let tempArray = [];\n            let newtempArray = [];\n            let test = [];\n\n            // this.paymentData = data.SalaryCardItems;\n            tempArray = data.SalaryCardLTAItems;\n            this.ltaRecords = data.SalaryCardLTAItems;\n            var destinationArray = this.ltaRecords.slice();\n            this.totalTax = destinationArray.reduce(\n              (n, x) => n + x.FlexiBlockedAmount,\n              0\n            );\n            console.log(\"Temp Array Y\", tempArray);\n\n            // for (let i = 0; i < tempArray.length; ++i) {\n            //   // console.log(te);\n\n            //   if (newtempArray.indexOf(tempArray[i].WageType) === -1) {\n            //     newtempArray.push(tempArray[i].WageType);\n            //     // this.counter.push(this.countElement(tempArray, tempArray[i].WageType));\n            //     test.push(tempArray[i]);\n            //   }\n            // }\n\n            // for (let i = 0; i < newtempArray.length; i++) {\n\n            //   let getAmount = this.getTotalAmountByID(newtempArray[i], tempArray);\n\n            //   this.paymentData.push({ \"wageType\": newtempArray[i], \"amount\": getAmount, \"description\": test[i].WageTypeDescription, 'wageIdentifier': test[i].WageIdentifier })\n            // }\n\n            this.postService.dismissLoading();\n          })\n          .catch(error => {\n            this.postService.dismissLoading();\n            this.navCtrl.pop();\n            this.postService.presentToast(error);\n          });\n      });\n    });\n  }\n\n  getTotalAmountByID(nameKey, tempArray: Array<{ any }>) {\n    let sum = 0;\n\n    tempArray\n      .map(function(e: any) {\n        return { Wage: e.WageType, Amount: e.Amount };\n      })\n      .forEach(item => {\n        if (item.Wage === nameKey) sum += item.Amount;\n      });\n    return sum;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/leave-travel-allowance/leave-travel-allowance.ts"],"sourceRoot":""}