{"version":3,"sources":["../../src/pages/emergency-contacts/emergency-contacts.module.ts","../../src/pages/emergency-contacts/emergency-contacts.ts"],"names":[],"mappings":"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","file":"32.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { EmergencyContactsPage } from './emergency-contacts';\n\n@NgModule({\n  declarations: [\n    EmergencyContactsPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(EmergencyContactsPage),\n  ],\n})\nexport class EmergencyContactsPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/emergency-contacts/emergency-contacts.module.ts","import { Component, NgZone } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ToastController, ModalController, LoadingController } from 'ionic-angular';\nimport { PostService } from '../../providers/api/PostService';\nimport { Storage } from \"@ionic/storage\";\nimport { CallNumber } from '@ionic-native/call-number';\n\n\n@IonicPage()\n@Component({\n  selector: 'page-emergency-contacts',\n  templateUrl: 'emergency-contacts.html',\n})\nexport class EmergencyContactsPage {\n  companyName: any;\n  showDetails: any = true;\n  userToken: any;\n  contactList = [];\n  anotherContactList = [];\n  showList: any = false;\n  contactDetails = [999];\n  loading: any;\n  myInput: any;\n  datanotfound: any;\n  pageload: boolean = true;\n  smallLoader: any = false;\n\n  constructor(public navCtrl: NavController, public navParams: NavParams, public zone: NgZone,\n    public postService: PostService, public storage: Storage, private _callNumber: CallNumber,\n    public toastCtrl: ToastController, public modalCtrl: ModalController, public loadingCtrl: LoadingController) {\n    this.datanotfound = 'assets/img/notfound.png'\n    this.postService.getUserDetails().then((userToken) => {\n      this.companyName = userToken['companyName'];\n      \n  });\n  }\n\n  ionViewDidEnter() {\n   // setTimeout(() => {\n      this.postService.getUserDetails().then((user: any) => {\n        this.postService.presentLoadingDefault();\n        let data = {\n          tokenId: user.tokenid,\n          RequestTokenId: user.tokenid\n        }\n        console.log('data', data);\n  \n        this.zone.run(() => {\n          this.postService.getData('Employee/GetEmergencyContacts', data)\n            .then((resp: any) => {\n              console.log('contactDetails', this.contactDetails);\n  \n              this.contactDetails = resp;\n              this.postService.loading.dismiss();\n            }).catch((error: any) => {\n              this.postService.presentToast(error);\n             // this.navCtrl.pop();\n            })\n        });\n      })\n  //  },2000)\n  }\n\n\n  searchContact(param) {\n\n    if (param.target.value !== undefined) {\n      let length = param.target.value.length;\n      let text = param.target.value;\n\n      switch (true) {\n        case (length === 3):\n         \n          this.showDetails = true;\n          // this.postService.presentLoadingDefault();\n          this.pageload=false;\n          this.getContacts(param);\n          break;\n        case (length < 3):\n          // console.log('In Case2');\n          this.makeEmpty();\n          break;\n        case (length > 3):\n          this.showDetails = false;\n\n          if (this.contactList.length === 0) {\n            this.pageload=false;\n            this.getContacts(param);\n          } else {\n            this.initialize('', '');\n            this.contactList.map(item => item.Name);\n            this.contactList = this.contactList.filter((item) => {\n              return (item.Name.toLowerCase().indexOf(text.toLowerCase()) > -1);\n            });\n          }\n          break;\n      }\n\n    } else {\n      this.makeEmpty();\n    }\n\n  }\n\n  getContacts(param) {\n    if (this.pageload){\n      this.postService.presentLoadingDefault();\n    }\n    else{\n      this.smallLoader = true;\n    }\n    this.showList = true;\n\n    this.postService.getUserDetails().then((user: any) => {\n\n      const sendData = {\n        tokenid: user.tokenid,\n        search_text: param.target.value\n      }\n      this.postService.getData('Employee/EmployeeSearch', sendData).then((resp: any) => {\n        console.log('ServerServer', resp);\n        if (this.pageload)\n          this.postService.loading.dismiss();\n        else\n          this.smallLoader = false;\n        this.pageload = false;\n\n        if (resp.Message === 'Success') {\n          this.contactList = resp.employees;\n          console.log('contactList', this.contactList);\n\n          this.initialize(this.contactList, 'fromget');\n        } else {\n          this.postService.presentToast('Server Error');\n        }\n      }).catch((error: Error) => {\n        if (this.pageload)\n          this.postService.loading.dismiss();\n        else\n          this.smallLoader = false;\n        this.postService.presentToast(error);\n      });\n    })\n  }\n\n  openEmergencyContacts(contact){\n    contact.companyName = this.companyName;\n    let modal = this.modalCtrl.create('UserEmergencyContactPage', {\"data\": contact});\n    modal.present();\n    modal.onDidDismiss((dt)=>{\n      console.log(dt);\n    });\n  }\n\n  makeEmpty() {\n    this.contactList = [];\n    this.anotherContactList = [];\n    this.showList = false;\n  }\n\n  call(call_number) {\n\n    if (call_number === '' || call_number === null || call_number === undefined) {\n      this.postService.presentToast('Phone Number is not available');\n    } else {\n      this._callNumber.callNumber(call_number, true)\n        .then(() => console.log('Launched dialer!'))\n        .catch((error) => this.postService.presentToast('Cannot place call Right Now'));\n    }\n\n  }\n\n  initialize(temp, flag) {\n\n    if (flag === 'fromget') {\n      this.contactList = temp;\n      this.anotherContactList = temp\n    } else {\n      this.contactList = this.anotherContactList;\n    }\n\n  }\n\n  onCancel($event) {\n    console.log('InCancel Func');\n    this.contactList = [];\n    this.anotherContactList = [];\n    this.showList = false;\n    this.showDetails = true;\n    console.log(\"this.contactDetails: \",this.contactDetails);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/emergency-contacts/emergency-contacts.ts"],"sourceRoot":""}