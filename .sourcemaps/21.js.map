{"version":3,"sources":["../../src/pages/income-tax/modal/modal.module.ts","../../src/pages/income-tax/modal/modal.ts"],"names":[],"mappings":"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","file":"21.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ModalPage } from './modal';\n\n\n@NgModule({\n  declarations: [\n    ModalPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(ModalPage),\n  ],\n})\nexport class ModalPageModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/income-tax/modal/modal.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ViewController, Platform } from 'ionic-angular';\nimport { FormBuilder, FormGroup, FormControl, FormArray, Validators } from '@angular/forms';\nimport { PostService } from '../../../providers/api/PostService';\nimport { Storage } from '@ionic/storage';\n//import { SecureStorage, SecureStorageObject } from '@ionic-native/secure-storage';\nimport { Camera, CameraOptions } from '@ionic-native/camera';\nimport { File } from \"@ionic-native/file\";\n\n@IonicPage()\n@Component({\n  selector: 'page-modal',\n  templateUrl: 'modal.html',\n})\nexport class ModalPage {\n  isvalidDate: boolean = true;\n  setID: any;\n\n\n  public declarationSummary = [];\n  public declarationType: any;\n  public data = [];\n  // public loginForm: any;\n  fiscal_year: any;\n  items: any[] = [];\n  formDetails: any = [];\n  hraForm: any;\n  imageURI: any;\n  cityType: any = [];\n  housingType: any = [];\n\n  information: any;\n  openArray = [];\n  constructor(public navCtrl: NavController, public navParams: NavParams, private _storage: Storage,\n    public viewCtrl: ViewController, public _fb: FormBuilder, private _service: PostService,\n              public camera: Camera, public platform: Platform, public file: File\n  ) {\n    // let temp = this.navParams.get('data');\n    // this.data = temp;\n    // this.declarationSummary = temp.InvestmentChildren;\n    // this.declarationType = temp.DeclarationType;\n\n    // console.log('Length', temp);\n\n\n\n\n\n\n\n\n    this.fiscal_year = this.navParams.get('fiscal_year');\n    this.setID = this.navParams.get('setID');\n    this.cityType = [\n      {\n        name: 'Metro'\n      }, {\n        name: 'Non-Metro'\n      }\n    ]\n\n    this.housingType = [\n      {\n        name: 'Own'\n      }, {\n        name: 'Rent'\n      }\n    ]\n\n    this.hraForm = this._fb.group({\n      // name: ['', [Validators.required, Validators.minLength(1)]],\n      formDetails: this._fb.array([\n        this.initAddress(0),\n      ])\n    });\n    console.log('HRA', this.hraForm);\n\n  }\n\n\n  toggleSection(i) {\n    // this.openArray[i] = !this.openArray[i]\n    let showList = document.getElementById('showList' + i);\n    if (showList.hasAttribute('hidden')) {\n      document.getElementById('uparrow' + i).hidden = false;\n      document.getElementById('downarrow' + i).hidden = true;\n      showList.hidden = false;\n\n    }\n    else {\n      document.getElementById('downarrow' + i).hidden = false;\n      document.getElementById('uparrow' + i).hidden = true;\n\n      showList.hidden = true;\n    }\n    //abc.style.display\n    // this.hraForm.value.formDetails[i] = changeValue;\n    // console.log('AFETR', this.hraForm.value.formDetails);\n\n  }\n\n\n\n  ionViewDidLoad() {\n    let value = this.hraForm.value.formDetails;\n    console.log('this', value);\n\n    // for(let count=0; count < value.addresses.length; count++){\n    //   this.certificate[count] = value.addresses[count].certificate;  \n    // }\n  }\n\n\n\n  initAddress(i) {\n    // this.openArray.push(i);\n\n    this.openArray[i] = false;\n    console.log('OPen', this.openArray);\n\n    return this._fb.group({\n      cityType: ['', [Validators.required,]],\n      housingType: ['', [Validators.required]],\n      rentalPincode: ['', [Validators.required, Validators.pattern(/^[1-9][0-9]{5}$/)]],\n      llName: ['', [Validators.required]],\n      llPincode: ['', [Validators.required, Validators.pattern(/^[1-9][0-9]{5}$/)]],\n      llPANNo: ['', [Validators.required, Validators.pattern(/[A-Z]{5}[0-9]{4}[A-Z]{1}/)]],\n      fromDate: ['', [Validators.required]],\n      toDate: ['', [Validators.required]],\n      rentalAmount: [0, [Validators.required]],\n      rentalAddress: ['', [Validators.required]],\n      llAddress: ['', [Validators.required]]\n    });\n\n\n  }\n\n  addAddress() {\n    const control = <FormArray>this.hraForm.controls['formDetails'];\n    let length = this.openArray.length;\n    //console.log('Length11', this.openArray.length[length]);\n\n    console.log('Length', length);\n\n    control.push(this.initAddress(length));\n  }\n  createItem() {\n\n  }\n\n  closeModal() {\n    // console.log('this.hraForm.value.formDetails', this.hraForm.value.formDetails);\n    // this.hraForm.value.formDetails.forEach(element => {\n    //   console.log('ELEMENT', element);\n\n    //   element.ID = 2;\n    // });\n    let amount = this.hraForm.value.formDetails.reduce((n, x) => n + parseInt(x.rentalAmount), 0);\n    console.log('AAPK', amount);\n\n    let data = { 'HRA': this.hraForm.value.formDetails, 'Amount': amount, 'ID': 2 }\n\n    this.viewCtrl.dismiss(data);\n  }\n\n\n\n  onSubmit() {\n    if (this.hraForm.controls.formDetails.valid) {\n      this._service.presentLoadingDefault();\n      let value = this.hraForm.value;\n      let hraExemptionForm = [];\n\n\n      for (let count = 0; count < value.formDetails.length; count++) {\n        hraExemptionForm.push(value.formDetails[count]);\n      }\n\n      this._service.getUserDetails().then((user: any) => {\n\n\n        let data = {\n          tokenid: user.tokenid,\n          fiscal_year: this.fiscal_year,\n          SetID: this.setID,\n          HRAs: hraExemptionForm\n        }\n\n        this._service.getData('IncomeTax/submitHRAExemption', data).then((response) => {\n          //  console.log('Log', data);\n          if (response === 'Success') {\n            this._service.presentToast('HRA Declaration Submitted');\n            let amount = this.hraForm.value.formDetails.reduce((n, x) => n + parseInt(x.rentalAmount), 0);\n            let Modaldata = { 'HRA': this.hraForm.value.formDetails, 'Amount': amount, 'ID': 2 }\n            this._service.loading.dismiss();\n\n            this.viewCtrl.dismiss(Modaldata);\n          }\n        }).catch((error) => {\n          this._service.loading.dismiss();\n          console.log('Error', error);\n\n        })\n\n\n      })\n\n\n    } else if (!this.isvalidDate) {\n      this._service.presentToast('Please enter Valid Date');\n    } else {\n      this._service.presentToast('Please Enter All the Details');\n    }\n\n\n\n    //   })\n    // })\n\n    // let tempArray = [];\n    // tempArray.push({ 'declarationID': this.data.ID, \"InvestmentChild\": value });\n    // // this._storage.set('temp', tempArray);\n    // this._storage.get('temp').then((data) => {\n    //   console.log('Parse ', data);\n    //   if (data != null) {\n    //     data\n    //   }\n    // });\n    // this._service.messageSource.next(tempArray);\n  }\n  checkDate(event, fromdate, todate) {\n    console.log('Hello', new Date(fromdate.value));\n    console.log('byee', new Date(todate.value));\n    if (new Date(fromdate.value) < new Date(todate.value)) {\n      this.isvalidDate = true;\n    } else {\n      this.isvalidDate = false;\n    }\n\n  }\n  checkError(parameter) {\n    return (parameter.dirty && parameter.errors)\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/income-tax/modal/modal.ts"],"sourceRoot":""}