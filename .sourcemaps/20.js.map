{"version":3,"sources":["../../src/pages/my-pay-slip/current-payslip/current-payslip.module.ts","../../src/pages/my-pay-slip/current-payslip/current-payslip.ts"],"names":[],"mappings":"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","file":"20.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { CurrentPayslipPage, NewPipe } from './current-payslip';\n@NgModule({\n  declarations: [\n    CurrentPayslipPage,\n    NewPipe,\n  ],\n  imports: [\n    IonicPageModule.forChild(CurrentPayslipPage)\n  ],\n})\nexport class CurrentPayslipPageModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/my-pay-slip/current-payslip/current-payslip.module.ts","import { Component, NgZone } from \"@angular/core\";\nimport {\n  IonicPage,\n  NavController,\n  NavParams,\n  Platform,\n  LoadingController,\n  AlertController,\n  ToastController\n} from \"ionic-angular\";\nimport { HttpClient } from \"@angular/common/http\";\nimport { PostService } from \"../../../providers/api/PostService\";\nimport { Pipe, PipeTransform } from \"@angular/core\";\nimport { DomSanitizer } from \"@angular/platform-browser\";\n/*\n\ninstall File, File Opener plugin and for pdf PDFMake library using npm\n */\n@Pipe({ name: \"inrFormat\" })\nexport class NewPipe implements PipeTransform {\n  transform(value: any) {\n    if (!value) return 0;\n    else return value.toLocaleString();\n    //else return value.toLocaleString(\"hi-IN\");\n  }\n}\n@IonicPage()\n@Component({\n  selector: \"page-current-payslip\",\n  templateUrl: \"current-payslip.html\"\n})\nexport class CurrentPayslipPage {\n  companyName: any;\n  designation: any;\n  pdfSrc: string;\n  value3: any[];\n\n  paymentData: any = [];\n\n  pdfObj = null;\n  loading: any;\n  link: any;\n  date = new Date();\n  monthsArray: Array<any> = [];\n  yearsArray = [];\n  year: any;\n  month: any;\n  totalEarnings: number = 0;\n  totalDeductions: number = 0;\n  name: any;\n  location: any;\n  userToken: any;\n  total: any;\n\n  constructor(\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    public loadingCtrl: LoadingController,\n    public alertCtrl: AlertController,\n    public toastCtrl: ToastController,\n    public platform: Platform,\n    public zone: NgZone,\n    public http: HttpClient,\n    public postService: PostService,\n    public sanitize: DomSanitizer\n  ) {\n    this.postService.getUserDetails().then(userToken => {\n      this.companyName = userToken[\"companyName\"];\n      // alert(\"compan:\"+this.companyName);\n    });\n  }\n\n  initializeMonths() {\n    this.monthsArray = [\n      \"January\",\n      \"February\",\n      \"March\",\n      \"April\",\n      \"May\",\n      \"June\",\n      \"July\",\n      \"August\",\n      \"September\",\n      \"October\",\n      \"November\",\n      \"December\"\n    ];\n  }\n\n  onChange(event) {\n    if (event === this.date.getFullYear()) {\n      let month = [];\n      for (let i = 0; i <= this.date.getMonth() - 1; i++) {\n        month.push(this.monthsArray[i]);\n      }\n      console.log(\"MONTHSSS\", this.date.getMonth());\n\n      this.monthsArray = month;\n    } else {\n      this.initializeMonths();\n    }\n  }\n\n  ionViewDidLoad() {\n    this.postService.presentLoadingDefault();\n    this.postService\n      .getCurrentTime()\n      .then((newDate: any) => {\n        this.postService.getUserDetails().then((data: any) => {\n          this.date = new Date(newDate);\n          this.year = this.date.getFullYear();\n          this.month = this.date.getMonth();\n\n          this.name = data.userName;\n          this.location = data.userLocation;\n          this.userToken = data.tokenid;\n          this.designation = data.JobTitle;\n\n          for (let i = 0; i <= 2; i++) {\n            this.yearsArray.push(this.date.getFullYear() - i);\n          }\n          this.postService.loading.dismiss();\n\n          this.initializeMonths();\n          this.onChange(this.date.getFullYear());\n        });\n      })\n      .catch(error => {\n        this.postService.loading.dismiss();\n        this.navCtrl.pop();\n        this.postService.presentToast(error);\n      });\n  }\n\n  // Create Pdf File object\n  downloadPdf2(month) {\n    console.log(\"datadata\", month);\n\n    this.postService.presentLoadingDefault();\n    this.postService.getUserDetails().then((user: any) => {\n      let data = {\n        tokenId: user.tokenid,\n        year: this.year,\n        month: this.monthsArray.indexOf(month) + 1\n      };\n      console.log(\"datadata\", data, this.monthsArray.indexOf(month));\n      this.postService\n        .getData(\"SalaryCard/getSalarySlip\", data)\n        .then((respdata: any) => {\n          if (respdata.Message === \"Success\" || respdata.Message === null) {\n            this.postService.loading.dismiss();\n            if (respdata.data.length > 0) {\n              this.postService.loading.dismiss();\n              this.navCtrl.push(\"PaySlipDocumentsPage\", {\n                data: respdata.data\n              });\n            } else {\n              // this.postService.loading.dismiss();\n              this.postService.presentToast(\n                \"No payslip available for this month.\"\n              );\n            }\n          } else {\n            this.postService.loading.dismiss();\n            this.postService.presentToast(\"Sorry Data is Not Present!\");\n          }\n        })\n        .catch(error => {\n          this.postService.loading.dismiss();\n          this.postService.presentToast(error);\n        });\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/my-pay-slip/current-payslip/current-payslip.ts"],"sourceRoot":""}