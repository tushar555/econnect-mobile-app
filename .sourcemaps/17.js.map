{"version":3,"sources":["../../src/pages/my-pay-slip/salary-statement/salary-statement.module.ts","../../src/pages/my-pay-slip/salary-statement/salary-statement.ts"],"names":[],"mappings":"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","file":"17.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { SalaryStatementPage } from './salary-statement';\n\n@NgModule({\n  declarations: [\n    SalaryStatementPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(SalaryStatementPage),\n  ],\n})\nexport class SalaryStatementPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/my-pay-slip/salary-statement/salary-statement.module.ts","import { Component, NgZone } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ToastController } from 'ionic-angular';\nimport { HttpClient } from '@angular/common/http';\nimport { SharedServiceProvider } from '../../../providers/shared-service/shared-service';\nimport { File } from '@ionic-native/file';\nimport { FileOpener } from '@ionic-native/file-opener';\nimport { Storage } from '@ionic/storage';\nimport { PostService } from \"../../../providers/api/PostService\";\n\n@IonicPage()\n@Component({\n  selector: 'page-salary-statement',\n  templateUrl: 'salary-statement.html',\n})\nexport class SalaryStatementPage {\n\n  salaryData: any;\n  monthsArray: any = [];\n\n  yearsArray = [];\n  date: any;\n  constructor(public http: HttpClient, private _zone: NgZone, public navCtrl: NavController,\n    public navParams: NavParams, private _shared: SharedServiceProvider,\n    public file: File, public fileOpener: FileOpener, public storage: Storage, public toastCtrl: ToastController,\n    public _service: PostService) {\n\n    this.date = new Date();\n    for (let i = 0; i <= 9; i++) {\n      this.yearsArray.push(this.date.getFullYear() - i);\n    }\n    this.initializeMonths();\n    this.getDetails();\n  }\n\n  initializeMonths() {\n    this.monthsArray = ['January', 'February', 'March', 'April',\n      'May', 'June', 'July', 'Augast', 'September',\n      'October', 'November', 'December']\n\n  }\n\n  onChange(event) {\n    if (event === this.date.getFullYear()) {\n      let month = [];\n      for (let i = 0; i <= this.date.getMonth(); i++) {\n        month.push(this.monthsArray[i]);\n      }\n      this.monthsArray = month;\n    } else {\n      this.initializeMonths();\n    }\n  }\n\n  getDetails() {\n    // this._zone.run(()=>{\n    //   let link = \"assets/json/salaryDetails.json\";\n    //   this.http.get(link).subscribe((data: any)=>{\n    //     this.salaryData = data;\n    //   });\n    // });\n  }\n\n  getSalaryDetails(month, year) {\n    this._service.getUserDetails().then((user: any) => {\n\n      let sendData = { 'tokenId': user.tokenid, 'month': month, 'year': year };\n      this._service.getData('/SalaryCard/getSalaryCard', sendData).then((data: any) => {\n        var binaryString = window.atob(data);\n        var binaryLen = binaryString.length;\n        var bytes = new Uint8Array(binaryLen);\n        for (var i = 0; i < binaryLen; i++) {\n          var ascii = binaryString.charCodeAt(i);\n          bytes[i] = ascii;\n        }\n\n        let blob = new Blob([bytes], { type: 'application/pdf' });\n        this.file.writeFile(this.file.dataDirectory, 'SalarySlip.pdf', blob, { replace: true }).then(fileEntry => {\n          // Open the PDf\n          this.fileOpener.open(this.file.dataDirectory + 'SalarySlip.pdf', 'application/pdf');\n\n        }).catch((error) => {\n          this.createToast(error);\n        });\n\n      }).catch((error) => {\n        this.createToast(error);\n      });\n\n    })\n\n\n\n  }\n  createToast(error) {\n    let message = (error === false ? 'No Network Connection..' : 'Something Went Wrong..');\n    let toast = this.toastCtrl.create({\n      message: message,\n      duration: 1000\n    });\n    toast.present();\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/my-pay-slip/salary-statement/salary-statement.ts"],"sourceRoot":""}