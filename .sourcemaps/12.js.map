{"version":3,"sources":["../../src/pages/hospitals/hospitals.module.ts","../../src/pages/hospitals/hospitals.ts","../../src/pipes/filter/filter.ts"],"names":[],"mappings":"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","file":"12.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { HospitalsPage } from './hospitals';\nimport { FilterPipe } from \"../../pipes/filter/filter\";\n\n@NgModule({\n  declarations: [\n    HospitalsPage,\n    FilterPipe\n  ],\n  imports: [\n    IonicPageModule.forChild(HospitalsPage),\n  ],\n})\nexport class HospitalsPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/hospitals/hospitals.module.ts","import { Component, NgZone } from '@angular/core';\nimport { IonicPage, NavController, NavParams, Platform } from 'ionic-angular';\nimport { CallNumber } from '@ionic-native/call-number';\nimport { PostService } from \"../../providers/api/PostService\";\nimport { Storage } from \"@ionic/storage\";\nimport { DomSanitizer } from \"@angular/platform-browser\";\n\n@IonicPage()\n@Component({\n  selector: 'page-hospitals',\n  templateUrl: 'hospitals.html',\n})\nexport class HospitalsPage {\n  companyName: any;\n  originHospitalList: any;\n  size: any;\n  tempList: any;\n  searchText = \"\";\n  loading;\n  private hospitalList: any = [];\n  curPageNo: any = 1;\n  pageload: boolean = true;\n  smallLoader: any = false;\n  constructor(public navCtrl: NavController, public navParams: NavParams,\n    private postService: PostService, public storage: Storage, private sanitizer: DomSanitizer,\n    private callNumber: CallNumber, private ngZone: NgZone, public plt: Platform) {\n    this.getList('', this.curPageNo, 'start');\n    this.postService.getUserDetails().then((userToken) => {\n      this.companyName = userToken['companyName'];\n      // alert(\"compan:\"+this.companyName);\n    });\n  }\n\n  searchFn(ev: any) {\n    // alert('aaaa');\n    this.smallLoader = true;\n    this.searchText = ev.target.value;\n    this.getList(ev.target.value, 1, 'start');\n    if (this.searchText.length > 0) {\n\n      this.hospitalList = this.customFilter(this.hospitalList, this.searchText);\n    }\n    else {\n      this.hospitalList = this.originHospitalList;\n    }\n  }\n\n  reset() {\n    console.log('reset');\n    this.curPageNo = 1;\n    this.getList('', this.curPageNo, 'start');\n  }\n  customFilter(objList, text) {\n    // if (undefined === text || text === '') return objList;\n    return objList.filter(product => {\n      let flag;\n      for (let prop in product) {\n        flag = false;\n        flag = product[prop].toString().indexOf(text) > -1;\n        if (flag)\n          break;\n      }\n      return flag;\n    });\n  }\n\n  ionViewWillEnter() {\n    //this.postService.presentLoadingDefault();\n    console.log('ionViewDidLoad HospitalsPage');\n\n  }\n\n  getSafeContent(lat, long, name) {\n    let content = \"geo:0,0?q=\" + lat + \",\" + long + \"(\" + name + \")\";\n    if (this.plt.is('ios')) {\n      // This will only print when on iOS\n      console.log('I am an iOS device!');\n      content = \"maps://?q=\" + lat + \",\" + long;\n    }\n\n    return this.sanitizer.bypassSecurityTrustUrl(content);\n  }\n  getList(searchText, pageNo, flag) {\n    console.log(\"in getlist\");\n    if (this.pageload){\n      this.postService.presentLoadingDefault();\n    }\n    else{\n      \n    }\n     // this.smallLoader = true;\n    this.postService.getUserDetails().then((user: any) => {\n\n      let params = {\n        \"tokenid\": user.tokenid,\n        'SearchText': searchText,\n        'PageNo': pageNo\n      }\n      console.log('Glafff', flag);\n\n      this.postService.getData(\"/Hospital/GetHospitalList\", params)\n        .then((response: any) => {\n          console.log('Response', response);\n\n          if (flag === 'start') {\n            this.hospitalList = response.HospitalList;\n          } else if (flag === 'scroll') {\n            for (let i = 0; i < response.HospitalList.length; i++) {\n              this.hospitalList.push(response.HospitalList[i]);\n            }\n\n          }\n\n          // this.tempList = response;\n          // this.size = 20;\n          // this.hospitalList = this.tempList.slice(0, this.size)\n          // this.originHospitalList = this.tempList.slice(0, this.size)\n          if (this.pageload)\n            this.postService.loading.dismiss();\n          else\n            this.smallLoader = false;\n          this.pageload = false;\n        }).catch((error) => {\n          if (this.pageload)\n            this.postService.loading.dismiss();\n          else\n            this.smallLoader = false;\n          this.postService.presentToast(error);\n          console.log('Error getting location', error);\n        });\n    })\n\n  }\n\n\n  loadHospitals(infiniteScroll) {\n    this.curPageNo += 1;\n    setTimeout(() => {\n      // for (let i = this.size; i < this.size + 20; i++) {\n      //   this.hospitalList.push(this.tempList[i]);\n      // }\n      this.getList('', this.curPageNo, 'scroll')\n\n      infiniteScroll.complete();\n    }, 500);\n    this.size += 20\n  }\n\n\n  // Call hospital\n  callHospital(callNumber: string) {\n    this.callNumber.callNumber(callNumber, true)\n      .then(res => console.log('Launched dialer!', res))\n      .catch(err => this.postService.presentToast('Cannot launch dialer without permission'));\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/hospitals/hospitals.ts","import { Pipe, PipeTransform } from '@angular/core';\n\n/**\n * Generated class for the FilterPipe pipe.\n *\n * See https://angular.io/api/core/Pipe for more info on Angular Pipes.\n */\n@Pipe({\n  name: 'filter',\n})\nexport class FilterPipe implements PipeTransform {\n  /**\n   * Takes a value and makes it lowercase.\n   */\n  transform(items: any[], searchText: string) {\n    /*if (searchTerm) {\n      searchTerm = searchTerm.toUpperCase();\n      return list.filter(item => {\n        return item.site.toUpperCase().indexOf(searchTerm) !== -1\n      });\n    } else {\n      return list;\n    }*/\n\n    if (!items) return [];\n    if (!searchText) return items;\n    searchText = searchText.toLowerCase();\n    console.log(\"search: \" + searchText);\n    return items.filter(it => {\n      return (it.HospitalName + it.HospitalAddress).toLowerCase().includes(searchText);\n    });\n    //return value.toLowerCase();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pipes/filter/filter.ts"],"sourceRoot":""}