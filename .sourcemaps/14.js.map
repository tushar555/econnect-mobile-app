{"version":3,"sources":["../../src/pages/tax-summary/tax-summary.module.ts","../../src/pages/tax-summary/tax-summary.ts"],"names":[],"mappings":"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","file":"14.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { TaxSummaryPage, NewPipe } from './tax-summary';\n\n@NgModule({\n  declarations: [\n    TaxSummaryPage,\n    NewPipe\n  ],\n  imports: [\n    IonicPageModule.forChild(TaxSummaryPage),\n  ],\n})\nexport class TaxSummaryPageModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/tax-summary/tax-summary.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, LoadingController } from 'ionic-angular';\nimport { PostService } from '../../providers/api/PostService';\nimport { Storage } from '@ionic/storage';\nimport { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({ name: 'inrFormat' })\nexport class NewPipe implements PipeTransform {\n  transform(value: any) {\n    if (!value) return 0;\n    else return value.toLocaleString();\n    //else return value.toLocaleString(\"hi-IN\");\n  }\n}\n@IonicPage()\n@Component({\n  selector: 'page-tax-summary',\n  templateUrl: 'tax-summary.html',\n})\nexport class TaxSummaryPage {\n  companyName: any;\n  designation: any;\n  userToken: any;\n  location: any;\n  name: string;\n  date: any;\n  yearsArray = [];\n  year: any;\n  taxDeductionArray = [];\n  totalDeduction = 0;\n  constructor(public navCtrl: NavController, public navParams: NavParams, public postService: PostService\n    , private _storage: Storage, public loadingCtrl: LoadingController) {\n    // this.year = 2018;\n    this.postService.getUserDetails().then((userToken) => {\n      this.companyName = userToken['companyName'];\n      // alert(\"compan:\"+this.companyName);\n  });\n  }\n\n  ionViewDidLoad() {\n    this.postService.presentLoadingDefault();\n    this.postService.getUserDetails().then((user: any) => {\n\n      this.name = user.userName;\n      this.location = user.userLocation;\n      this.userToken = user.tokenid;\n      this.designation = user.JobTitle;\n\n      this.postService.getCurrentTime().then((newDate: any) => {\n        this.date = new Date(newDate);\n        this.year = this.date.getFullYear();\n        for (let i = 0; i <= 2; i++) {\n          console.log(this.date.getFullYear() - i);\n          this.yearsArray.push(this.date.getFullYear() - i);\n        }\n        this.postService.loading.dismiss();\n        this.getTaxSummary();\n      }).catch((err) => {\n        this.postService.loading.dismiss();\n        this.postService.presentToast(err);\n        this.navCtrl.pop();\n      });\n\n    })\n\n\n  }\n\n  onChange() {\n    this.getTaxSummary();\n  }\n\n\n  getTaxSummary() {\n    this.taxDeductionArray = [];\n    this.postService.presentLoadingDefault();\n    this.postService.getUserDetails().then((user: any) => {\n\n      const details = { 'tokenId': user.tokenid, 'year': this.year };\n      //console.log('details', details);\n\n      this.postService.getData('SalaryCard/getSalaryCard', details).then((data: any) => {\n        this.postService.loading.dismiss();\n        // let tempArray = [];\n        this.taxDeductionArray = data.SalaryCardItems;\n        console.log('Taxx', this.taxDeductionArray);\n\n        this.taxDeductionArray = this.taxDeductionArray.filter(function (name, key) {\n          return (name.WageIdentifier.indexOf('DEDUCTION') > 0) ? name : '';\n        })\n\n        this.totalDeduction = this.taxDeductionArray.reduce((n, x) => n + x.Amount, 0);\n\n      }).catch((err) => {\n        this.postService.loading.dismiss();\n        this.postService.presentToast(err);\n      });\n\n    })\n\n\n\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/tax-summary/tax-summary.ts"],"sourceRoot":""}