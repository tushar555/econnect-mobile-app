{"version":3,"sources":["../../src/pages/feedback/feedback.module.ts","../../src/pages/feedback/feedback.ts"],"names":[],"mappings":"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","file":"30.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { FeedbackPage } from './feedback';\n\n@NgModule({\n  declarations: [\n    FeedbackPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(FeedbackPage),\n  ],\n})\nexport class FeedbackPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/feedback/feedback.module.ts","import { Component, NgZone, ViewChild } from '@angular/core';\nimport { IonicPage, Navbar, NavController, NavParams } from 'ionic-angular';\nimport { PostService } from \"../../providers/api/PostService\";\n// import { SecureStorage, SecureStorageObject } from '@ionic-native/secure-storage';\nimport { Storage } from '@ionic/storage';\n\n@IonicPage()\n@Component({\n  selector: 'page-feedback',\n  templateUrl: 'feedback.html',\n})\nexport class FeedbackPage {\n   companyName: any;\n  rating: any;\n  questionList: any;\n  inputArea = [];\n  radioGroup = [];\n  starRateArray = [];\n  @ViewChild(Navbar) navBar: Navbar;\n  // private secureStorage: SecureStorage, \n  constructor(public navCtrl: NavController,\n    public navParams: NavParams, public _service: PostService, public storage: Storage,\n    public zone: NgZone) {\n    this.getQuestionList();\n    this.initializeStarArray();\n    this._service.getUserDetails().then((userToken) => {\n      this.companyName = userToken['companyName'];\n      // alert(\"compan:\"+this.companyName);\n  });\n  }\n\n\n  getQuestionList(): any {\n    this._service.presentLoadingDefault();\n    this._service.getUserDetails().then((dt: any) => {\n      this._service.getData('/FeedbackQuestions/GetFeedbackQuestions', { tokenid: dt.tokenid }).then((data: any) => {\n        console.log('Data', data);\n        this.questionList = data.FeedbackQuestions;\n        this._service.loading.dismiss();\n      }).catch((error) => {\n        this._service.loading.dismiss();\n        this._service.presentToast(error);\n      })\n    })\n\n  }\n\n  initializeStarArray() {\n    this.starRateArray = [\n      {\n        value: false\n      },\n      {\n        value: false\n      },\n      {\n        value: false\n      },\n      {\n        value: false\n      },\n      {\n        value: false\n      }\n    ]\n  }\n\n  starRating(rating) {\n    this.zone.run(() => {\n      this.rating = rating;\n      console.log('Rating', this.rating);\n\n      this.initializeStarArray();\n\n      for (let i = this.rating; i >= 0; i--) {\n        this.starRateArray[i].value = true;\n      }\n    })\n\n  }\n  onSubmit() {\n\n    if (this.inputArea.length === 9 && this.radioGroup.length === 5) {\n\n      this._service.presentLoadingDefault();\n\n      let FeedbackAnswers = [];\n\n      this.inputArea.forEach((item, i) => {\n        FeedbackAnswers.push({\n          \"QuestionID\": i,\n          \"Answer\": item\n        })\n      })\n      this.radioGroup.forEach((item, i) => {\n        FeedbackAnswers.push({\n          \"QuestionID\": i,\n          \"Answer\": item\n        })\n      })\n      FeedbackAnswers.push({\n        \"QuestionID\": 7,\n        \"Answer\": this.rating + 1\n      })\n\n      this._service.getUserDetails().then((user: any) => {\n\n        let data = {\n          \"TokenID\": user.tokenid,\n          \"FeedbackAnswers\": FeedbackAnswers\n        }\n        console.log('DATA', data);\n\n\n        this._service.getData('/Feedback/SubmitFeedback', data).then((data) => {\n          this._service.loading.dismiss();\n          if (data === 'Success') {\n            this._service.presentToast('We have received your feedback!');\n            this.navCtrl.pop({ animate: true, animation: 'ios-transition', duration: 1000, direction: 'back' });\n          } else {\n            this._service.presentToast('Error in submitting feedback! Please try after sometime.');\n            this.navCtrl.pop({ animate: true, animation: 'ios-transition', duration: 1000, direction: 'back' });\n          }\n\n        }).catch((error) => {\n          this._service.loading.dismiss();\n          console.log('ERROR', error);\n\n        })\n      })\n\n\n    } else {\n      this._service.presentToast('All fields are mandatory');\n    }\n\n\n\n    //console.log('ITEm', data);\n  }\n  ionViewDidLoad() {\n    this.navBar.backButtonClick = () => {\n      //Write here wherever you wanna do\n      this.navCtrl.pop({ animate: true, animation: 'ios-transition', duration: 1000, direction: 'back' });\n    }\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/feedback/feedback.ts"],"sourceRoot":""}